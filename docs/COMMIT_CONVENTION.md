# Commit 提交规范

本规范约定本项目（易宿酒店预订平台 React Native 移动端）的 Git 提交信息写法，便于主分支提交点有意义、在 Git 记录中体现开发过程。

---

## 一、基本格式

```
<type>(<scope>): <subject>

[可选正文]
```

- **type**：提交类型，必填。
- **scope**：影响范围（模块/页面），可选。
- **subject**：简短描述，必填；一行以内，结尾不加句号。

**示例：**

```
feat(home): Banner 接接口并支持点击跳转酒店详情
fix(list): 分页时重复请求导致数据错乱
docs(readme): 补充 Android 运行步骤
```

---

## 二、类型（type）说明

| 类型 | 说明 | 示例 |
|------|------|------|
| **feat** | 新功能 | 新页面、新组件、新接口对接 |
| **fix** | 修复 Bug 或错误行为 | 联调问题、筛选不生效、崩溃 |
| **docs** | 仅文档变更 | README、API 文档、注释 |
| **chore** | 构建/工具/结构等 | 依赖升级、目录调整、提交物说明 |
| **perf** | 性能优化 | 长列表优化、减少重渲染 |
| **test** | 测试相关 | 单测、E2E、自测结论说明 |
| **style** | 代码风格（不影响逻辑） | 格式化、缩进、引号 |
| **refactor** | 重构（既非新功能也非修 Bug） | 抽组件、重命名、整理逻辑 |

本项目中**不建议**使用：`update`、`modify`、`change` 等模糊类型，请用上述类型之一并写清 subject。

---

## 三、范围（scope）建议

与项目结构对应，便于从提交历史快速定位模块：

| scope | 说明 |
|-------|------|
| `nav` | 导航、路由配置 |
| `home` | 首页（酒店查询页） |
| `list` | 酒店列表页 |
| `detail` | 酒店详情页 |
| `api` | 请求封装、接口层 |
| `types` | 类型定义 |
| `structure` | 目录、常量等结构 |
| `readme` | README 等文档 |
| `code` | 代码规范、ESLint/Prettier、组件抽取 |
| `ux` | 加载态、空态、错误提示等体验 |

可随模块增加而补充（如 `filter`、`calendar`）。

---

## 四、书写规则

1. **语言**：subject 使用**简体中文**，与实现计划中的提交信息一致。
2. **语气**：使用**祈使句**，如「接入」「修复」「补充」，不用「已接入」「修复了」。
3. **长度**：subject 建议 50 字以内；若需补充说明，在空一行后写正文。
4. **关联任务**：若对应实现计划中的任务，可在正文写 `ref: IMPLEMENTATION_PLAN 任务 x.x`（可选）。

**推荐：**

```
feat(list): 酒店列表分页请求与上滑加载更多
fix(filter): 首页与列表筛选条件统一，搜索与筛选闭环
```

**不推荐：**

```
update list page
修复了一些 bug
feat: 更新了首页的 Banner 和搜索框，并修复了列表页的筛选问题。（过长且混合多种改动）
```

---

## 五、提交频率建议

- **按任务提交**：每完成《实现计划》中的一个任务（如 1.1、2.9）就提交一次，并使用该任务对应的提交信息。
- **避免大杂烩**：不要在一次提交中同时改首页、列表、详情、API 等多处；若已改乱，可用 `git add -p` 分块或分两次提交。
- **阶段总览**：每周末或阶段结束时，若合并了多个小提交，可使用实现计划中的「阶段总览 Commit」（如 `feat(w1): 完成基础架构：...`）；日常开发仍建议小步提交。

---

## 六、与本项目实现计划的对应关系

实现计划中为每个任务都给出了**建议的 Commit 提交信息**，开发时请优先采用该文档中的表述，以保持历史统一：

- 任务列表与提交信息：见 [IMPLEMENTATION_PLAN.md](./IMPLEMENTATION_PLAN.md) 各任务的「完成后 Commit 提交信息」。
- 速查表：见《实现计划》**第九章 · Commit 提交信息速查表**。

若在实现过程中有新的、未在计划中列出的提交（如临时修一个小 Bug），仍按本规范写 type + scope + subject 即可。

---

## 七、示例汇总

| 场景 | 提交信息示例 |
|------|----------------|
| 接入导航 | `feat(nav): 接入 React Navigation，配置 Stack + Bottom Tabs 与首页/列表占位页` |
| 新接口 | `feat(api): 封装 Axios 实例与酒店列表/详情/Banner 接口` |
| 类型定义 | `feat(types): 定义酒店列表/详情/房型/Banner 接口类型与 API 文档` |
| 首页功能 | `feat(home): 接入日历组件选择入住日期并同步到搜索条件` |
| 列表功能 | `feat(list): 酒店列表分页请求与上滑加载更多` |
| 详情功能 | `feat(detail): 房型价格列表按价格从低到高展示` |
| 修 Bug | `fix(api): 联调后端与 PC 端，统一接口字段与上下线表现` |
| 性能 | `perf(list): 长列表 keyExtractor/getItemLayout 与渲染优化` |
| 体验 | `feat(ux): 列表与详情 loading、空态与错误重试` |
| 文档 | `docs(readme): 补充项目说明、运行方式与目录结构` |
| 结构/规范 | `chore(structure): 建立 src 目录规范与 constants/types 占位` |
| 自测 | `test: 全流程自测并修复问题，README 注明已测环境` |

以上约定适用于本仓库主分支及功能分支的提交，便于答辩与评审时从 Git 记录中体现开发过程。
